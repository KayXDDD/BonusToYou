<!DOCTYPE HTML>
<head>
  <title>BonusToYou</title>
  <link rel="icon" type="image/png" href="">
  <link rel="stylesheet" href="style.css">
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="procrastinate all you want lol">
  <body>
    <div class="topnav">
         <p><font face="Comic Sans MS">NOTE: Please only submit links that lead to SCMP articles. Thank you. </font></p>
	  </div>
    <h1>Welcome</h1>
    <p>Still scratching that head of yours because of Margaret Chan's seemingly incompetent punishments? No worries!</p>
    <p>Simply submit a link (please heed the warning above thanks), and this handy dandy thing will generate a short essay based on the article you chose! Very pog</p>
    <p><input id="submittedURL" type="text" placeholder="gimme that URL"></p>
    <p><button onclick="grabDesc()">Submit</button></p>
    <script>
	    function grabDesc(){
    	    let desiredURL = document.getElementById("submittedURL").value;
	    var txt = "";
  document.getElementById("demo").innerHTML = txt;
  $.ajax({
      url: desiredURL,
      error: function() {
        txt = "Unable to retrieve webpage source HTML";
      }, 
      success: function(response){
          response = $.parseHTML(response);
          $.each(response, function(i, el){
              if(el.nodeName.toString().toLowerCase() == 'meta' && $(el).attr("name") != null && typeof $(el).attr("name") != "undefined"){
                  txt += $(el).attr("name") +"="+ ($(el).attr("content")?$(el).attr("content"):($(el).attr("value")?$(el).attr("value"):"")) +"<br>";
                  console.log($(el).attr("name") ,"=", ($(el).attr("content")?$(el).attr("content"):($(el).attr("value")?$(el).attr("value"):"")), el);
              }
          });
      },
      complete: function(){
          document.getElementById("demo").innerHTML = txt;
      }
  });
}
		    
    
    </script>
  </body>
    
